# vim: set ft=bash:
# -*- mode: bash -*-

# Turn off display power management system
xset -dpms
# Turn off screen blanking
xset s noblank
# Turn off the screen saver
xset s off
# Set manual resolution for X
xrandr --output "$KIOSK_DISPLAY" --mode "$KIOSK_RESOLUTION" --rate "$KIOSK_REFRESH_RATE"

# Restart app if terminated
while true; do
    echo "starting $KIOSK_BIN"  | logger --tag "kiosk" --priority user.info
    "$KIOSK_BIN"
    echo "$KIOSK_BIN terminated"  | logger --tag "kiosk" --priority user.warning
    sleep 1
done
